# I. Основы Git

## 1.1. Что такое Git?

Git - это система контроля версий, которая позволяет отслеживать изменения в файлах компьютера и совместно работать над ними с другими людьми. Git - это распределенная система контроля версий. Это означает, что Git не полагается на центральный сервер для хранения всех версий файлов проекта. Вместо этого каждый пользователь «клонирует» копию репозитория (набора файлов) и имеет полную историю проекта на своем жестком диске. Этот клон содержит все метаданные оригинала, а сам оригинал хранится на собственном сервере или на стороннем хостинг-сервисе, например, GitHub [1](https://www.w3schools.com/git/default.asp).

Git помогает тебе следить за изменениями, которые ты вносишь в свой код. Это в основном вкладка истории для твоего редактора кода (без режима инкогнито ?). Если в какой-то момент при написании кода ты столкнешься с фатальной ошибкой и не знаешь, что ее вызывает, ты всегда можешь вернуться к стабильному состоянию. Так что это очень полезно для отладки. Или ты просто можешь посмотреть, какие изменения ты внес в свой код со временем.

## 1.2. История Git

Git был создан в 2005 году Линусом Торвальдсом, известным разработчиком ядра Linux, как инструмент для управления исходным кодом ядра. Торвальдс не был доволен существующими системами контроля версий, такими как BitKeeper, CVS и Subversion, и решил создать свою собственную, которая бы соответствовала его требованиям к скорости, эффективности и распределенности [2](https://www.freecodecamp.org/news/learn-the-basics-of-git-in-under-10-minutes-da548267cc91/). С тех пор Git стал одной из самых популярных и широко используемых систем контроля версий в мире, поддерживаемой большим сообществом разработчиков и компаний, таких как Google, Microsoft, Facebook и других [3](https://www.atlassian.com/git/tutorials).

## 1.3. Основные понятия и терминология

Чтобы эффективно использовать Git, тебе нужно знать некоторые основные понятия и термины, которые используются в Git. Вот некоторые из них:

- **Репозиторий** - это место, где хранятся все файлы и история изменений проекта. Репозиторий может быть локальным (на твоем компьютере) или удаленным (на сервере или хостинг-сервисе).
- **Коммит** - это снимок состояния файлов в определенный момент времени. Каждый коммит имеет уникальный идентификатор (хеш), автора, дату и сообщение, описывающее, что было изменено.
- **Ветка** - это параллельная линия разработки, которая позволяет тебе работать над разными функциями или задачами, не мешая друг другу. По умолчанию в Git есть главная ветка, называемая **master** (или иногда ее еще называют **main**), которая содержит стабильную версию проекта.
- **Слияние** - это процесс объединения изменений из одной ветки в другую. Слияние может быть автоматическим, если нет конфликтов, или требовать ручного разрешения конфликтов, если есть противоречия между изменениями в разных ветках.
- **Отправка (push)** - это действие, при котором ты отправляешь свои локальные коммиты на удаленный репозиторий, чтобы поделиться ими с другими пользователями.
- **Получение (pull)** - это действие, при котором ты получаешь коммиты из удаленного репозитория на свой локальный репозиторий, чтобы быть в курсе последних изменений.

Это не полный список терминов, которые используются в Git, но они достаточно важны для понимания основ Git. Для более подробного изучения Git ты можешь посмотреть , или .

# II. Установка и настройка Git

## 2.1. Установка Git

Для того, чтобы использовать Git, тебе нужно сначала установить его на свой компьютер. Способ установки зависит от твоей операционной системы:

- Windows
- Mac OS
- Linux

Ссылка для скачивания - [Git - Downloads](https://git-scm.com/downloads)

После установки Git ты можешь проверить, что он работает, открыв терминал (командную строку) и введя следующую команду:

```bash
git --version
```

Эта команда должна вывести версию Git, которая у тебя установлена. Например:

```bash
git version 2.31.1
```

## 2.2. Настройка Git

Перед тем, как начать работать с Git, тебе нужно настроить некоторые параметры, которые будут использоваться Git для идентификации тебя и твоих коммитов. Это важно, потому что Git сохраняет информацию об авторе и коммиттере каждого коммита, и эта информация может быть полезна для отслеживания истории проекта.

Для настройки Git тебе нужно выполнить две команды в терминале:

```bash
git config --global user.name "Твое имя"
git config --global user.email "Твой email"
```

Эти команды устанавливают глобальные настройки для Git, которые будут применяться ко всем твоим репозиториям. Ты можешь использовать свое настоящее имя и email, или псевдоним и фиктивный email, если ты хочешь сохранить свою анонимность. Главное, чтобы ты был последовательным в своем выборе.

Кроме этих настроек, ты можешь также изменить другие параметры Git, такие как редактор, который будет использоваться для редактирования сообщений коммитов, цветовая схема вывода Git, алиасы для часто используемых команд и т.д. Для просмотра всех доступных настроек ты можешь выполнить команду:

```bash
git config --list
```

Для изменения любой настройки ты можешь использовать команду `git config` с соответствующим ключом и значением. Для получения более подробной информации о настройке Git ты можешь посмотреть [Git Configuration](https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration)

## 2.3. Создание репозитория

Чтобы начать работать с Git, тебе нужно создать репозиторий, который будет хранить все файлы и историю изменений твоего проекта. Есть два способа создать репозиторий:

- **Инициализация** - это процесс создания нового пустого репозитория в существующей папке на твоем компьютере. Для этого тебе нужно перейти в папку, где ты хочешь создать репозиторий, и выполнить команду:

```bash
git init
```

Эта команда создаст скрытую папку `.git` внутри твоей папки, которая будет содержать все данные репозитория. После этого ты можешь добавлять, изменять и коммитить файлы в своем репозитории.

После инициализации репозитория тебе нужно связать его с удаленным репозиторием, который будет храниться на сервере или хостинг-сервисе, например, [GitHub](https://github.com/). Для этого тебе нужно выполнить команду:

```bash
git remote add <name> <url>
```

Эта команда добавит новый удаленный репозиторий с указанным именем и URL. Обычно имя по умолчанию для главного удаленного репозитория - `origin`. URL может быть в разных форматах, в зависимости от протокола, который ты хочешь использовать для связи с удаленным репозиторием. Например:

```bash
git remote add origin https://github.com/username/my_project.git # HTTPS
git remote add origin git@github.com:username/my_project.git # SSH
git remote add origin git://github.com/username/my_project.git # Git
```

URL для клонирования/инициализации репозитория может быть также в разных форматах, в зависимости от протокола, который ты хочешь использовать. Однако, есть некоторые различия между URL и SSH ссылкой. URL ссылка использует протокол HTTPS, который требует ввода имени пользователя и пароля при каждом обращении к удаленному репозиторию. SSH ссылка использует протокол SSH, который требует наличия публичного и приватного ключа на твоем компьютере, которые позволяют установить защищенное соединение с удаленным репозиторием без ввода пароля.

Для получения более подробной информации о различиях между протоколами ты можешь посмотреть здесь - [When would one use ssh or http to clone?](https://stackoverflow.com/questions/38884588/when-would-one-use-ssh-or-http-to-clone)

- **Клонирование** - это процесс копирования существующего репозитория с удаленного сервера или хостинг-сервиса на твой компьютер. Для этого тебе нужно знать URL репозитория, который ты хочешь скопировать, и выполнить команду:

```bash
git clone <url>
```

Эта команда создаст новую папку на твоем компьютере с именем репозитория, и скопирует в нее все файлы и историю изменений репозитория. После этого ты можешь работать с репозиторием локально, а также отправлять и получать изменения с удаленного репозитория.

Для получения более подробной информации о клонировании репозитория ты можешь посмотреть здесь - [Git Clone](https://git-scm.com/docs/git-clone).

## III. Основные операции Git
В этой главе мы рассмотрим, как выполнять основные операции с Git, такие как добавление, фиксация, просмотр, ветвление и слияние изменений в репозитории.

### 3.1. Git add и commit
Когда вы вносите изменения в файлы в своем локальном репозитории, Git отслеживает их как **измененные**, но не **подготовленные** (staged) к фиксации (commit). Чтобы подготовить файлы к фиксации, вы должны использовать команду `git add`, которая добавляет их в **область подготовленных файлов** (staging area).

```bash
git add .
```

Команда `git add .` позволяет добавить все файлы в текущей директории и ее поддиректориях в область подготовленных файлов. Это удобно, когда вы хотите зафиксировать все изменения, которые вы сделали в своем репозитории. Однако, если вы хотите добавить в область подготовленных файлов только определенные файлы или папки, вы можете указать их имена вместо точки. Например, если вы хотите добавить только файл `README.md` и папку `docs`, вы можете использовать команду `git add README.md docs`. Это позволит вам оставить остальные файлы неподготовленными и фиксировать только те, которые вы выбрали. **Зачем нам это?**
Мы можем захотеть иметь одни файлы подготовленными и другие нет, когда мы хотим сделать несколько разных коммитов с разными целями или сообщениями. Например, если мы работаем над двумя разными функциями в одном репозитории, мы можем захотеть сделать отдельный коммит для каждой функции, чтобы сохранить историю репозитория чистой и понятной. В этом случае, мы можем добавить в область подготовленных файлов только те файлы, которые относятся к одной функции, и сделать коммит с соответствующим сообщением. Затем мы можем добавить в область подготовленных файлов другие файлы, которые относятся к другой функции, и сделать еще один коммит с другим сообщением. Таким образом, мы можем контролировать, какие изменения включать в каждый коммит, и избежать смешивания разных задач в одном коммите.

Область подготовленных файлов - это временная область, в которой вы можете выбрать, какие файлы и какие части файлов вы хотите зафиксировать. Вы можете добавлять и удалять файлы из области подготовленных файлов до тех пор, пока вы не будете готовы сделать фиксацию.

Фиксация - это операция, которая сохраняет состояние области подготовленных файлов в истории репозитория. Каждая фиксация имеет уникальный идентификатор (hash), автора, дату и сообщение, описывающее, что было изменено и зачем.

Чтобы сделать фиксацию, вы должны использовать команду `git commit`, которая создает новый коммит в репозитории с подготовленными файлами. Вы также должны указать сообщение фиксации с помощью параметра `-m`. Например:

```bash
git commit -m "Добавил новую функцию"
````

Эта команда создаст новый коммит с сообщением “Добавил новую функцию” и добавит его в историю репозитория.

### 3.2. Просмотр изменений (git status и git diff)

Чтобы узнать, какие файлы были изменены, подготовлены или неотслеживаемы (untracked) в вашем репозитории, вы можете использовать команду `git status`, которая показывает текущее состояние репозитория. Например:

```bash
git status
```

Эта команда выведет что-то вроде этого:

```text
On branch master
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	modified:   index.html
	modified:   style.css

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   script.js

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	images/logo.png

```

Этот вывод показывает, что файлы `index.html` и `style.css` были изменены и подготовлены к фиксации, файл `script.js` был изменен, но не подготовлен, а файл `images/logo.png` был добавлен, но не отслеживается Git.

Чтобы увидеть, какие конкретно изменения были внесены в файлы, вы можете использовать команду `git diff`, которая показывает разницу между файлами в разных областях. Вы можете использовать разные параметры для сравнения файлов в рабочей директории, области подготовленных файлов и репозитории. Например:

```bash
git diff # показывает разницу между рабочей директорией и областью подготовленных файлов
git diff --staged # показывает разницу между областью подготовленных файлов и последним коммитом
git diff HEAD # показывает разницу между рабочей директорией и последним коммитом
```

Эта команда выведет что-то вроде этого:

```diff
diff --git a/script.js b/script.js
index 9a9f3c7..a5c8f4b 100644
--- a/script.js
+++ b/script.js
@@ -1,5 +1,6 @@
 function hello() {
-  console.log("Hello, world!");
+  let name = prompt("What is your name?");
+  console.log("Hello, " + name + "!");
 }

 hello();
```

Этот вывод показывает, что в файле `script.js` были добавлены две строки и удалена одна строка.

### 3.3. Ветвление и слияние (branching and merging)

Ветвление - это процесс создания и переключения между разными версиями репозитория, называемыми **ветками** (branches). Ветки позволяют вам работать над разными функциями, исправлениями или экспериментами в изолированной среде, не затрагивая основную версию репозитория.

Слияние - это процесс объединения изменений из одной ветки в другую. Слияние позволяет вам интегрировать результаты вашей работы в общий репозиторий.

Чтобы создать новую ветку, вы должны использовать команду `git branch`, которая принимает имя ветки в качестве параметра. Например:

```bash
git branch feature
```

Эта команда создаст новую ветку с именем `feature`, которая будет указывать на тот же коммит, что и текущая ветка.

Чтобы переключиться на другую ветку, вы должны использовать команду `git checkout`, которая принимает имя ветки в качестве параметра. Например:

```bash
git checkout feature
```

Эта команда переключит вас на ветку `feature` и обновит рабочую директорию и область подготовленных файлов соответственно.

Вы можете создавать новые ветки с помощью команды `git checkout -b название_ветки`, которая является сокращением от `git branch название_ветки` и `git checkout название_ветки`. Эта команда создает новую ветку с указанным именем и переключает вас на нее. Например:

```bash
git checkout -b feature # создает и переключается на ветку feature
```

Это удобно, когда вы хотите быстро начать работу над новой функцией или задачей в отдельной ветке.

Чтобы сделать слияние двух веток, вы должны использовать команду `git merge`, которая принимает имя ветки в качестве параметра. Например:

```bash
git checkout master # переключаемся на ветку, в которую хотим сделать слияние
git merge feature # сливаем ветку feature в текущую ветку
```

Эта команда объединит изменения из ветки `feature` в ветку `master`. Если слияние проходит без конфликтов, то создается новый коммит, который объединяет обе ветки. Если слияние вызывает конфликты, то вы должны разрешить их вручную, отредактировав конфликтующие файлы и сделав новую фиксацию.

### 3.4. Git log и история
Чтобы просмотреть историю коммитов в вашем репозитории, вы можете использовать команду `git log`, которая показывает список коммитов в обратном хронологическом порядке. Каждый коммит содержит его идентификатор, автора, дату и сообщение. Например:

```bash
git log
````

Эта команда выведет что-то вроде этого:

```text
commit 4a0f8c7f3c9f8a7f3d9f8a7f3d9f8a7f3d9f8a7f (HEAD -> master, origin/master, origin/HEAD)
Author: Alice <alice@example.com>
Date:   Sat Feb 10 12:53:00 2024 +0100

    Merged feature branch into master

commit 3b9f8a7f3d9f8a7f3d9f8a7f3d9f8a7f3d9f8a7f (feature)
Author: Bob <bob@example.com>
Date:   Sat Feb 10 12:45:00 2024 +0100

    Added new feature

commit 2a8f8a7f3d9f8a7f3d9f8a7f3d9f8a7f3d9f8a7f
Author: Alice <alice@example.com>
Date:   Sat Feb 10 12:30:00 2024 +0100

    Fixed bug in script

commit 1a7f8a7f3d9f8a7f3d9f8a7f3d9f8a7f3d9f8a7f
Author: Alice <alice@example.com>
Date:   Sat Feb 10 12:00:00 2024 +0100

    Initialized repository

```

Вы можете использовать разные параметры для фильтрации, форматирования и навигации по истории коммитов. Например:

```bash
git log --oneline # показывает каждый коммит в одной строке
git log --graph # показывает графическое представление веток и слияний
git log --author="Alice" # показывает только коммиты, сделанные автором с именем Alice
git log --since="2 hours ago" # показывает только коммиты, сделанные за последние два часа
git log feature..master # показывает только коммиты, которые есть в ветке master, но нет в ветке feature
```

Вы также можете использовать команду `git show`, чтобы просмотреть подробную информацию о конкретном коммите, включая его изменения. Вы должны указать идентификатор коммита в качестве параметра. Например:

```bash
git show 4a0f8c7f3c9f8a7f3d9f8a7f3d9f8a7f3d9f8a7f
```

Эта команда выведет что-то вроде этого:

```text
commit 4a0f8c7f3c9f8a7f3d9f8a7f3d9f8a7f3d9f8a7f (HEAD -> master, origin/master, origin/HEAD)
Merge: 2a8f8a7 3b9f8a7
Author: Alice <alice@example.com>
Date:   Sat Feb 10 12:53:00 2024 +0100

    Merged feature branch into master


diff --cc script.js
index a5c8f4b,9a9f3c7..4a0f8c7
--- a/script.js
+++ b/script.js
@@@ -1,5 -1,5 +1,6 @@@
  function hello() {
-   console.log("Hello, world!");
+   let name = prompt("What is your name?");
+   console.log("Hello, " + name + "!");
  }

  hello();
```


## IV. Работа с удаленными репозиториями
В этой главе мы рассмотрим, как работать с удаленными репозиториями, то есть репозиториями, которые находятся на других компьютерах или серверах. Удаленные репозитории позволяют вам совместно работать над проектами с другими разработчиками, хранить резервные копии своих локальных репозиториев и публиковать свои работы в интернете.

### 4.1. Git remote
Чтобы работать с удаленным репозиторием, вы должны сначала добавить его в свой локальный репозиторий с помощью команды `git remote add`, которая принимает имя и URL удаленного репозитория в качестве параметров. Например:

```bash
git remote add origin https://github.com/alice/my-project.git
````

Эта команда добавит удаленный репозиторий с именем `origin` и URL `https://github.com/alice/my-project.git` в ваш локальный репозиторий. Вы можете использовать любое имя, которое вам нравится, но `origin` - это общепринятое соглашение для основного удаленного репозитория.

Чтобы просмотреть список всех добавленных удаленных репозиториев, вы можете использовать команду `git remote -v`, которая покажет имена и URL удаленных репозиториев. Например:

```bash
git remote -v
```

Эта команда выведет что-то вроде этого:

```text
origin  https://github.com/alice/my-project.git (fetch)
origin  https://github.com/alice/my-project.git (push)
```

Этот вывод показывает, что у вас есть один удаленный репозиторий с именем `origin` и URL `https://github.com/alice/my-project.git`, который используется для получения **(fetch)** и отправки **(push)** данных.

Чтобы удалить удаленный репозиторий, вы можете использовать команду `git remote remove`, которая принимает имя удаленного репозитория в качестве параметра. Например:

```bash
git remote remove origin
```

Эта команда удалит удаленный репозиторий с именем `origin` из вашего локального репозитория.

### 4.2. Git fetch и git pull

Чтобы получить данные из удаленного репозитория, вы можете использовать команду `git fetch`, которая принимает имя удаленного репозитория в качестве параметра. Например:

```bash
git fetch origin
```

Эта команда загрузит все новые коммиты, ветки и теги из удаленного репозитория с именем `origin` в ваш локальный репозиторий. Однако, эта команда не объединит эти данные с вашей рабочей директорией или ветками. Вы должны сделать это вручную с помощью команды `git merge` или `git rebase`.

Чтобы получить и объединить данные из удаленного репозитория, вы можете использовать команду `git pull`, которая принимает имя удаленного репозитория и имя ветки в качестве параметров. Например:

```bash
git pull origin master
```

Эта команда сделает то же самое, что и `git fetch origin`, а затем объединит изменения из ветки `master` удаленного репозитория с вашей текущей веткой. Это удобно, когда вы хотите быстро обновить свою локальную версию репозитория до последнего состояния удаленного репозитория.

![[Pasted image 20240210135120.png]]

**Разница между локальным репозиторием и рабочей директорией состоит в следующем:**

- Локальный репозиторий - это скрытая папка `.git`, которая хранит всю историю и метаданные вашего проекта. В ней находятся все коммиты, ветки, теги, настройки и другие данные, которые Git использует для управления версиями. Вы можете обращаться к локальному репозиторию с помощью команд Git, таких как `git log`, `git branch`, `git status` и т.д.
- Рабочая директория - это папка, в которой вы видите и редактируете свои файлы проекта, такие как `index.html`, `style.css`, `script.js` и т.д. В ней находятся только текущие версии ваших файлов, которые вы можете открывать и изменять с помощью любого редактора или приложения. Вы можете обращаться к рабочей директории с помощью обычных команд файловой системы, таких как `cd`, `ls`, `cp` и т.д.

Таким образом, локальный репозиторий и рабочая директория - это два разных представления одного и того же проекта. Локальный репозиторий позволяет вам отслеживать и контролировать изменения в ваших файлах, а рабочая директория позволяет вам просматривать и редактировать их. Вы можете синхронизировать локальный репозиторий и рабочую директорию с помощью команд `git add`, `git commit`, `git checkout` и других.
### 4.3. Git push

Чтобы отправить данные в удаленный репозиторий, вы можете использовать команду `git push`, которая принимает имя удаленного репозитория и имя ветки в качестве параметров. Например:

```bash
git push origin master
```

Эта команда загрузит все новые коммиты из вашей локальной ветки `master` в удаленный репозиторий с именем `origin`. Это позволит вам поделиться своей работой с другими разработчиками, которые имеют доступ к этому удаленному репозиторию.

Однако, эта команда может не сработать, если ваша локальная ветка отстает от удаленной ветки, то есть если в удаленном репозитории есть новые коммиты, которых нет в вашем локальном репозитории. В этом случае, вы должны сначала получить и объединить данные из удаленного репозитория с помощью команды `git pull`, а затем повторить команду `git push`.

### 4.4. Работа с GitHub/GitLab/Bitbucket

GitHub, GitLab и Bitbucket - это популярные сервисы, которые предоставляют хостинг и управление удаленными репозиториями для Git. Они также предлагают множество дополнительных функций, таких как веб-интерфейс, совместная разработка, управление задачами, код-ревью, непрерывная интеграция и доставка, и многое другое.

Чтобы работать с этими сервисами, вам нужно создать учетную запись на их сайтах и создать или импортировать свой репозиторий. Затем вы можете использовать URL вашего репозитория в качестве параметра для команды `git remote add`, чтобы добавить его в свой локальный репозиторий. После этого вы можете использовать команды `git fetch`, `git pull` и `git push`, чтобы синхронизировать свои данные с удаленным репозиторием.

Вы также можете использовать веб-интерфейс этих сервисов, чтобы просматривать и редактировать файлы, историю, ветки, теги, запросы на слияние (pull requests), проблемы (issues), вики (wiki) и другие аспекты вашего репозитория. Вы можете взаимодействовать с другими разработчиками, оставляя комментарии, рецензии, реакции и предложения по улучшению кода. Вы можете также настраивать различные опции, такие как видимость, совладельцы, права доступа, вебхуки (webhooks), интеграции и многое другое.

## V. Продвинутое ветвление и слияние
### 5.1. Управление ветками
### 5.2. Стратегии слияния
### 5.3. Решение конфликтов

## VI. Использование тегов и релизов
### 6.1. Тегирование коммитов
### 6.2. Управление релизами
### 6.3. Семантическое версионирование

## VII. Особенности работы с Git
### 7.1. Stashing и Cherry Picking
### 7.2. Rebasing и Squashing
### 7.3. Интерактивный rebase

## VIII. Безопасность и приватность в Git
### 8.1. Управление доступом
### 8.2. Git и шифрование
### 8.3. Лучшие практики безопасности

## IX. Автоматизация с помощью Git Hooks
### 9.1. Что такое Git Hooks?
### 9.2. Настройка pre-commit и post-commit хуков
### 9.3. Использование хуков для улучшения рабочего процесса

## X. Производительность и оптимизация
### 10.1. Оптимизация репозитория
### 10.2. Git gc и git fsck
### 10.3. Работа с большими репозиториями

## XI. Работа с ветками в команде
### 11.1. Стратегии ветвления в команде
### 11.2. Git flow и GitHub flow
### 11.3. Pull Requests и Code Reviews

## XII. Интеграция Git в рабочие процессы
### 12.1. Git в CI/CD
### 12.2. Git и DevOps
### 12.3. Версионирование с помощью Git в проектах

## XIII. Заключение
### 13.1. Лучшие практики использования Git
### 13.2. Частые ошибки и как их избежать
### 13.3. Дополнительные ресурсы и инструменты
